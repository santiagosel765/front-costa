<nz-card nzTitle="Perfiles de impuestos" [nzExtra]="createTpl"><app-data-table [columns]="columns" [data]="rows()" [loading]="loading()" [total]="total()" [pageIndex]="table.snapshot.page" [pageSize]="table.snapshot.size" [searchValue]="table.snapshot.q" (pageChange)="onPageChange($event)" (searchChange)="onSearchChange($event)" (action)="action($event)"></app-data-table></nz-card>
<ng-template #createTpl><button *appHasPermission="['INVENTORY','write']" nz-button nzType="primary" (click)="openCreate()">Crear</button></ng-template>
<nz-modal [nzVisible]="modal()" [nzTitle]="editing() ? 'Editar perfil' : 'Nuevo perfil'" (nzOnCancel)="modal.set(false)" (nzOnOk)="save()"><ng-container *nzModalContent><form [formGroup]="form"><nz-tabset><nz-tab nzTitle="General"><label>Nombre</label><input nz-input formControlName="name"/><label>DescripciÃ³n</label><textarea nz-input formControlName="description"></textarea></nz-tab><nz-tab nzTitle="Impuestos"><nz-select formControlName="taxIds" nzMode="multiple" nzPlaceHolder="Seleccione impuestos"><nz-option *ngFor="let t of taxes()" [nzValue]="t.id" [nzLabel]="t.name"></nz-option></nz-select></nz-tab></nz-tabset></form></ng-container></nz-modal>
